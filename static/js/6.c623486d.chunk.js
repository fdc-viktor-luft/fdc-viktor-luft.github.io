(this.webpackJsonpgithub_homepage=this.webpackJsonpgithub_homepage||[]).push([[6],{29:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return m}));var r=n(2),a=n(0),o=n.n(a),c=n(14),i=n(1),u=n(3),l=n(9),s=function(e){var t=e.onClick,n=e.description,r=e.children,a=e.className;return o.a.createElement("div",{className:l.a.classNames("footer-action",a,!t&&"no-handler"),onClick:t},r,n&&o.a.createElement("div",{className:"small"},Object(i.a)(n)))},f=function(){return o.a.createElement(s,{onClick:u.a.back,description:"APP.home"},o.a.createElement(c.a.Home,null))},d=function(e){return document.getElementById("root").style.setProperty("--footer-height",e?"3rem":"0px")},m=function(e){var t=e.children,n=e.expandable,i=e.hideHome,u=e.className,l=Object(a.useState)(!0),s=Object(r.a)(l,2),m=s[0],b=s[1],v=Object(a.useCallback)((function(){return b((function(e){return!e}))}),[]);return Object(a.useEffect)((function(){n||b(!0)}),[n]),Object(a.useEffect)((function(){d(m)}),[m]),Object(a.useEffect)((function(){return function(){return d(!1)}}),[]),m?o.a.createElement("footer",{className:u},n&&o.a.createElement("div",{className:"footer-handle",onClick:v},o.a.createElement(c.a.ChevronDown,null)),o.a.createElement("div",{className:"footer-border"}),o.a.createElement("nav",null,o.a.createElement("div",{className:"footer-actions"},i||o.a.createElement(f,null),t))):o.a.createElement("footer",{className:u},o.a.createElement("div",{className:"footer-handle closed",onClick:v},o.a.createElement(c.a.ChevronUp,null)))}},32:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},33:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},34:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},35:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},36:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},37:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(32);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(35),a=n(36);function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(37);function i(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(c.a)(e):t}function u(e){return function(){var t,n=Object(r.a)(e);if(Object(a.a)()){var o=Object(r.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return i(this,t)}}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(33),a=n(34),o=n(39),c=n(38),i=n(0),u=n.n(i),l=n(1),s=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.fix;return e?u.a.createElement("div",{className:"game-error"},u.a.createElement("h2",null,Object(l.a)("error.boundary.unexpected")),u.a.createElement("p",null,Object(l.a)("error.boundary.sorry")),u.a.createElement("button",{type:"button",onClick:r},Object(l.a)("error.boundary.fix"))):n}}]),n}(i.Component);s.getDerivedStateFromError=function(){return{hasError:!0}}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(14),c=n(29),i=function(e){var t=e.onClick;return a.a.createElement(c.b,{onClick:t,description:"APP.restart"},a.a.createElement(o.a.PowerOff,null))}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(14),c=n(29),i=function(e){var t=e.onClick;return a.a.createElement(c.b,{onClick:t,description:"APP.undo"},a.a.createElement(o.a.Undo,{className:"reflect"}))}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),c=function(e){var t=e.error;return a.a.createElement("span",{className:"invalid-feedback"},Object(o.a)(t))}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inputHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preventDefault,r=void 0===n||n;return function(t){r&&t.preventDefault();var n=t.target.value;e(n)}},preventDefault:function(e){return e.preventDefault()}}},48:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(48);var r=n(0),a=n.n(r),o=n(1),c=n(43),i=n(9),u=n(44),l=function(e){var t=e.label,n=e.value;return a.a.createElement("option",{value:n},Object(o.b)(t))},s=function(e){var t=e.value,n=e.serialize,r=e.label,s=e.error,f=e.required,d=e.className,m=e.onChange,b=e.onBlur,v=e.options,p=e.disabled,E=e.name,h=function(e,t){var n=e.map((function(e){return e.value}));return t?n.map(t):n.map((function(e,t){return void 0===e?"":"string"===typeof e?e:String(t)}))}(v,n),g=function(e){return function(t){return e&&e(v[h.indexOf(t)].value)}},y=v.find((function(e){return e.value===t})),x=y?v.indexOf(y):0;return a.a.createElement("div",{className:i.a.classNames(d,f&&"required",!t&&"unselected",s&&"has-error")},r&&a.a.createElement("label",null,Object(o.a)(r)),a.a.createElement("select",{className:"custom-select",name:E,disabled:p,onChange:u.a.inputHandler(g(m)),onBlur:u.a.inputHandler(g(b)),value:h[x]},v.map((function(e,t){return a.a.createElement(l,{label:e.label,value:h[t],key:t})}))),s&&a.a.createElement(c.a,{error:s}))}},93:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(40),c=n(29),i=n(42),u=n(41),l=n(6),s=n(2),f=n(10),d=n(15),m=n(9),b=function(){return m.a.array(12,!1)},v={badThrows:0,crossed:m.a.array(4,null).map(b),crossedBigPoints:m.a.array(2,null).map(b),closed:m.a.array(4,!1),option:null},p=function(){try{var e=f.a.get("quixx");return JSON.parse(e)}catch(t){return[]}},E=Object(d.a)(v),h=Object(s.a)(E,2),g=h[0],y=h[1];y.set(p()[0]||v);var x,O=function(e){y.set(e);var t=y.get(),n=p();n.unshift(t),n.length>20&&n.pop(),f.a.set("quixx",JSON.stringify(n))},_=function(e){return e.filter(Boolean).length},C=function(e,t){return O((function(n){var r=n.crossed;return{crossed:m.a.nextArray(r,e,m.a.nextArray(r[e],t,!0))}}))},j={restart:function(){O(v)},undo:function(){var e=p();if(e.length>1){e.shift(),f.a.set("quixx",JSON.stringify(e));var t=e[0];y.set(t)}},onBadThrow:function(){return O((function(e){return{badThrows:e.badThrows+1}}))},sum:function(e,t,n){var r=t.map(_),a=[r[0],r[0],r[1],r[1]],o=5*n;return m.a.sum.apply(m.a,Object(l.a)(e.map((function(e,t){return(n=_(e)+a[t])*(n+1)/2;var n}))))-o},onCross:function(e,t){var n=y.get(),r=n.crossed,a=n.closed,o=r[e];o&&!a[e]&&(o.lastIndexOf(!0)<t&&(t===o.length-2?_(o)>=5&&(C(e,t),C(e,t+1)):t===o.length-1?O({closed:m.a.nextArray(a,e,!0)}):C(e,t)))},onCrossBigPoints:function(e,t){var n=y.get().crossedBigPoints,r=n[e];r&&O({crossedBigPoints:m.a.nextArray(n,e,m.a.nextArray(r,t,!0))})},chooseData:function(e){return O({option:e})}},k=n(1),w=n(14),N=function(e){var t=e.field,n=t.value,o=t.color,c=e.crossed,i=e.onClick,u=e.fieldIdx,l=e.disabled,s=e.closed,f=Object(r.useCallback)((function(){return i(u)}),[i,u]);return a.a.createElement("div",{className:m.a.classNames("quixx__grid__field",c&&"quixx__grid__field--crossed",!c&&s&&"quixx__grid__field--closed",!c&&(s||l)&&"quixx__grid__field--disabled"),style:{backgroundColor:o},onClick:l||s?void 0:f},-1===n?a.a.createElement(w.a.Unlock,null):n)},P=function(e){var t=e.row,n=e.rowIdx,o=g((function(e){var t=e.crossed,r=e.closed;return{rowCrossed:t[n],rowClosed:r[n]}}),[n]),c=o.rowCrossed,i=o.rowClosed,u=Object(r.useCallback)((function(e){return j.onCross(n,e)}),[n]),l=c.lastIndexOf(!0),s=c.filter(Boolean).length>=5;return a.a.createElement(a.a.Fragment,null,t.map((function(e,t){return a.a.createElement(N,{key:e.value,field:e,crossed:c[t],onClick:u,fieldIdx:t,disabled:l>=t||!s&&c.length-2===t,closed:i})})))},I=function(e){var t=e.firstColor,n=e.secondColor,o=e.crossed,c=e.onClick,i=e.fieldIdx,u=e.disabled,l=e.isLastItem,s=Object(r.useCallback)((function(){return c(i)}),[c,i]);return l?a.a.createElement("div",null):a.a.createElement("div",{className:m.a.classNames("quixx__grid__field quixx__grid__field--big-points",o&&"quixx__grid__field--crossed",u&&"quixx__grid__field--disabled"),style:{background:"linear-gradient(".concat(t," 50%, ").concat(n," 50%)")},onClick:u?void 0:s})},B=function(e){var t=e.data,n=e.firstIdx,o=e.secondIdx,c=e.bigPointsIdx,i=g((function(e){var t=e.crossed,r=e.closed;return{crossed:e.crossedBigPoints[c],firstCrossable:r[n]?-1:t[n].lastIndexOf(!0),secondCrossable:r[o]?-1:t[o].lastIndexOf(!0)}}),[n,o,c]),u=i.firstCrossable,l=i.secondCrossable,s=i.crossed,f=Object(r.useCallback)((function(e){return j.onCrossBigPoints(c,e)}),[c]),d=s.lastIndexOf(!0);return a.a.createElement(a.a.Fragment,null,s.map((function(e,r){return a.a.createElement(I,{key:r,firstColor:t[n][r].color,secondColor:t[o][r].color,crossed:e,onClick:f,fieldIdx:r,disabled:d>=r||r!==u&&r!==l,isLastItem:r===s.length-1})})))},q=function(e){var t=e.data,n=e.withBigPoints,r=void 0!==n&&n,o=g((function(e){var t=e.badThrows,n=e.crossed,r=e.crossedBigPoints;return{badThrows:t,sum:j.sum(n,r,t)}})),c=o.sum,i=o.badThrows;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"quixx__grid"},function(e,t){var n=e.map((function(e,t){return a.a.createElement(P,{key:t,row:e,rowIdx:t})}));return t&&(n.splice(1,0,a.a.createElement(B,{key:"foo",data:e,firstIdx:0,secondIdx:1,bigPointsIdx:0})),n.splice(4,0,a.a.createElement(B,{key:"bar",data:e,firstIdx:2,secondIdx:3,bigPointsIdx:1}))),n}(t,r)),a.a.createElement("div",{className:"quixx__info"},a.a.createElement("div",{className:"quixx__info__bad-throws"},a.a.createElement("div",null,Object(k.a)("QUIXX.badThrows")),m.a.array(4).map((function(e,t){return a.a.createElement("span",{key:t,onClick:i===t?j.onBadThrow:void 0},i>t?"\u2718":"")}))),a.a.createElement("div",{className:"quixx__info__sum"},a.a.createElement("div",null,Object(k.a)("QUIXX.points")),a.a.createElement("span",null,c))))},S=n(54);!function(e){e.RED="#f84a4a",e.YELLOW="#ffbb00",e.GREEN="#30b204",e.BLUE="#416af7"}(x||(x={}));var U=[2,3,4,5,6,7,8,9,10,11,12],D=[].concat(U).reverse();U.push(-1),D.push(-1);var X=function(e){return function(t){return t.map((function(t){return{color:e,value:t}}))}},T=X(x.RED),L=X(x.YELLOW),R=X(x.GREEN),A=X(x.BLUE),F=[T(U),L(U),R(D),A(D)],H={DEFAULT:{value:F,label:"QUIXX.option.default",withBigPoints:!1},SHUFFLED_NUMBERS:{value:[T([10,6,2,8,3,4,12,5,9,7,11,-1]),L([9,12,4,6,7,2,5,8,11,3,10,-1]),R([8,2,10,12,6,9,7,4,5,11,3,-1]),A([5,7,11,9,12,3,8,10,2,6,4,-1])],label:"QUIXX.option.shuffledNumbers",withBigPoints:!1},SHUFFLED_COLORS:{value:[[L([2,3,4]),A([5,6,7]),R([8,9,10]),T([11,12,-1])].flat(),[T([2,3]),R([4,5,6,7]),A([8,9]),L([10,11,12,-1])].flat(),[A([2,3,4]),L([5,6,7]),T([8,9,10]),R([11,12,-1])].flat(),[R([2,3]),T([4,5,6,7]),L([8,9]),A([10,11,12,-1])].flat()],label:"QUIXX.option.shuffledColors",withBigPoints:!1},BIG_POINTS:{value:F,label:"QUIXX.option.bigPoints",withBigPoints:!0}},Q=function(e){return e&&j.chooseData(e)},J=[{label:"QUIXX.option.choose",value:void 0}].concat(Object(l.a)(Object.entries(H).map((function(e){var t=Object(s.a)(e,2);return{value:t[0],label:t[1].label}})))),G=function(){return a.a.createElement("div",{className:"quixx__selection"},a.a.createElement(S.a,{options:J,onChange:Q,value:void 0}))},M=function(){return a.a.createElement(c.a,null,a.a.createElement(i.a,{onClick:j.undo}),a.a.createElement(u.a,{onClick:j.restart}))};t.default=function(){var e=g((function(e){return e.option})),t=Object(r.useMemo)((function(){return e&&H[e]}),[e]);return t?a.a.createElement(o.a,{fix:j.restart},a.a.createElement("div",{className:"quixx"},a.a.createElement("div",{className:"quixx__inner"},a.a.createElement(q,{data:t.value,withBigPoints:t.withBigPoints})),a.a.createElement(M,null))):a.a.createElement(a.a.Fragment,null,a.a.createElement(G,null),a.a.createElement(c.a,null,a.a.createElement(i.a,{onClick:j.undo})))}}}]);